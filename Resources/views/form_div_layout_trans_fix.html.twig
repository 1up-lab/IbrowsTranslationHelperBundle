{% block country_widget %}
    {% if attr.translateChoiceValue is not defined %}
        {% set attr = attr|merge({'translateChoiceValue': false}) %}
    {% endif %}
    {{ block('choice_widget') }}
{% endblock %}

{% block locale_widget %}
    {% if attr.translateChoiceValue is not defined %}
        {% set attr = attr|merge({'translateChoiceValue': false}) %}
    {% endif %}
    {{ block('choice_widget') }}
{% endblock %}

{% block currency_widget %}
    {% if attr.translateChoiceValue is not defined %}
        {% set attr = attr|merge({'translateChoiceValue': false}) %}
    {% endif %}
    {{ block('choice_widget') }}
{% endblock %}

{% block choice_widget_options %}
    {% spaceless %}
        {% for group_label, choice in options %}
            {% if choice is iterable %}
                <optgroup label="{{ group_label|trans({}, translation_domain) }}">
                    {% set options = choice %}
                    {{ block('choice_widget_options') }}
                </optgroup>
            {% else %}
                <option value="{{ choice.value }}"{% if choice is selectedchoice(value) %} selected="selected"{% endif %}>
                    {% if attr.translateChoiceValue is defined and attr.translateChoiceValue == false %}
                        {{ choice.label }}
                    {% else %}
                        {{ choice.label|trans({}, translation_domain) }}
                    {% endif %}
                </option>
            {% endif %}
        {% endfor %}
    {% endspaceless %}
{% endblock choice_widget_options %}